async function getData(){const e=await fetch("tabele/pocetna.csv",{cache:"no-store"}),t=await e.text(),n=(t.split("\n"),t.split("\n").slice(1));var a=0,i=0;n.forEach((e=>{const t=e.split(";"),n=t[0],s=t[1],c=t[2],r=t[3],d=t[4],l=t[5],p=t[6],u=t[7];if(a%4==0||0==a)if("5"==n){(b=document.createElement("div")).setAttribute("class","proizvodi-row");var o="proizvodi-row-"+i;b.setAttribute("id",o),document.getElementById("tabela-proizvoda").append(b),(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+a);document.createElement("br");(k=document.createElement("img")).setAttribute("src",l),k.setAttribute("id","slika-"+a),(y=document.createElement("div")).setAttribute("id","naziv-"+a),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=s,(g=document.createElement("div")).setAttribute("id","stara-cena-"+a),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),H.append(y),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(g),j.append(w),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&S.append(p),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&$.append(u),B.append($),b.append(B),i++}else{(b=document.createElement("div")).setAttribute("class","proizvodi-row");o="proizvodi-row-"+i;b.setAttribute("id",o),document.getElementById("tabela-proizvoda").append(b),(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+a);document.createElement("br");if((k=document.createElement("img")).setAttribute("src",l),k.setAttribute("id","slika-"+a),(y=document.createElement("div")).setAttribute("id","naziv-"+a),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=s,(g=document.createElement("div")).setAttribute("id","stara-cena-"+a),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","nova-cena-"+a),M.setAttribute("data-id",r),"00"===(L=r.split("."))[1]?M.innerHTML=L[0]+'<sup style="visibility:hidden;">'+L[1]+"</sup>":M.innerHTML=L[0]+"<sup>"+L[1]+"</sup>",(T=document.createElement("div")).setAttribute("id","popust-"+a),T.innerHTML=d,(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),(f=document.createElement("div")).setAttribute("class","crveni-krug"),H.append(y),f.append(T),H.append(f),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(M),(I=document.createElement("div")).setAttribute("class","cenovnik-right"),I.append(g),j.append(w),j.append(I),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&S.append(p),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&$.append(u),B.append($),b.append(B),(D=document.createElement("div")).setAttribute("class","kalkulator"),(O=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(_=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),_.setAttribute("type","checkbox"),(q=document.createElement("span")).setAttribute("class","checkmark"),(C=document.createElement("div")).setAttribute("class","telo-kalkulatora"),C.setAttribute("style","display:none;"),(G=document.createElement("button")).setAttribute("class","decrease"),G.innerHTML="-",(N=document.createElement("span")).setAttribute("class","kolicina"),N.innerHTML="0",(P=document.createElement("button")).setAttribute("class","increase"),P.innerHTML="+",(U=document.createElement("span")).setAttribute("class","popust-artikal"),U.setAttribute("style","display:none"),U.innerHTML="0",C.append(G),C.append(N),C.append(P),C.append(U),O.append(_),O.append(q),D.append(O),B.prepend(D),B.append(C),i++,12==a)(b=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),b.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda").append(b);else if(4==a){(b=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter");var m=document.createElement("div");m.setAttribute("class","mobile-newsletter-wrapper");var v=document.createElement("script");v.setAttribute("src","https://maxi.sales-snap.com/form/generate.js?id=6"),m.append(v),b.append(m),document.getElementById("tabela-proizvoda").append(b)}else if(0==a){var b;(b=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),b.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner" ></a></div>',document.getElementById("tabela-proizvoda").append(b)}}else if("5"==n){(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+a);document.createElement("br");(k=document.createElement("img")).setAttribute("src",l),k.setAttribute("id","slika-"+a),(y=document.createElement("div")).setAttribute("id","naziv-"+a),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=s,(g=document.createElement("div")).setAttribute("id","stara-cena-"+a),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),H.append(y),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(g),j.append(w),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&S.append(p),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&$.append(u),B.append($);var A="proizvodi-row-"+(i-1);document.getElementById(A).append(B)}else{var E;(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+a);var k,y,g,z,M,L,T,H,f,h,j,w,I,x,B,S,$;document.createElement("br");(k=document.createElement("img")).setAttribute("src",l),k.setAttribute("id","slika-"+a),(y=document.createElement("div")).setAttribute("id","naziv-"+a),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=s,(g=document.createElement("div")).setAttribute("id","stara-cena-"+a),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","nova-cena-"+a),M.setAttribute("data-id",r),"00"===(L=r.split("."))[1]?M.innerHTML=L[0]+'<sup style="visibility:hidden;">'+L[1]+"</sup>":M.innerHTML=L[0]+"<sup>"+L[1]+"</sup>",(T=document.createElement("div")).setAttribute("id","popust-"+a),T.innerHTML=d,(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),(f=document.createElement("div")).setAttribute("class","crveni-krug"),H.append(y),f.append(T),H.append(f),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(M),(I=document.createElement("div")).setAttribute("class","cenovnik-right"),I.append(g),j.append(w),j.append(I),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&S.append(p),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&$.append(u),B.append($);var D,O,_,q,C,G,N,P,U;A="proizvodi-row-"+(i-1);document.getElementById(A).append(B),(D=document.createElement("div")).setAttribute("class","kalkulator"),(O=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(_=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),_.setAttribute("type","checkbox"),(q=document.createElement("span")).setAttribute("class","checkmark"),(C=document.createElement("div")).setAttribute("class","telo-kalkulatora"),C.setAttribute("style","display:none;"),(G=document.createElement("button")).setAttribute("class","decrease"),G.innerHTML="-",(N=document.createElement("span")).setAttribute("class","kolicina"),N.innerHTML="0",(P=document.createElement("button")).setAttribute("class","increase"),P.innerHTML="+",(U=document.createElement("span")).setAttribute("class","popust-artikal"),U.setAttribute("style","display:none"),U.innerHTML="0",C.append(G),C.append(N),C.append(P),C.append(U),O.append(_),O.append(q),D.append(O),B.prepend(D),B.append(C)}a++}))}async function getDataSortPrice(){const e=await fetch("tabele/pocetna.csv",{cache:"no-store"}),t=await e.text();t.split("\n");let n=[...t.split("\n").slice(1)],a=[n[0]];for(var i=1;i<n.length;i++){let e=parseInt(n[i].split(";")[3]);if(e<parseInt(a[i-1].split(";")[3]))if(i-1==0){let e=a[i-1];a[i-1]=n[i],a[i]=e}else{var s=i-2;if(e>parseInt(a[s].split(";")[3])){let e=a[s+1];a[s+1]=n[i],a[i]=e}else{for(;s>-1&&e<parseInt(a[s].split(";")[3]);)s--;-1==s?a.splice(0,0,n[i]):a.splice(s+1,0,n[i])}}else a.push(n[i])}var c=0,r=0;a.forEach((e=>{const t=e.split(";"),n=t[0],a=t[1],i=t[2],s=t[3],d=t[4],l=t[5],p=t[6],u=t[7];if(c%4==0||0==c){if("5"==n){(m=document.createElement("div")).setAttribute("class","proizvodi-row");var o="proizvodi-row-cena-"+r;m.setAttribute("id",o),document.getElementById("tabela-proizvoda-cena").append(m),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena"+c);document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-cena"+c),(E=document.createElement("div")).setAttribute("id","naziv-cena"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-cena"+c),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),L.append(E),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(k),f.append(h),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B),m.append(I),r++}else{(m=document.createElement("div")).setAttribute("class","proizvodi-row");o="proizvodi-row-cena-"+r;m.setAttribute("id",o),document.getElementById("tabela-proizvoda-cena").append(m),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena-"+c);document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-cena-"+c),(E=document.createElement("div")).setAttribute("id","naziv-cena-"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-cena-"+c),k.setAttribute("data-id",i),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-cena-"+c),g.setAttribute("data-id",s),"00"===(z=s.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-cena-"+c),M.innerHTML=d,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B),m.append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_),r++}if(12==c)(m=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),m.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner" ></a></div>',document.getElementById("tabela-proizvoda-cena").append(m);else if(4==c){(m=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter"),document.getElementById("tabela-proizvoda-cena").append(m)}else if(0==c){var m;(m=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),m.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-cena").append(m)}}else if("5"==n){(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena"+c);document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-cena"+c),(E=document.createElement("div")).setAttribute("id","naziv-cena"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-cena"+c),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),L.append(E),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(k),f.append(h),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B);var v="proizvodi-row-cena-"+(r-1);document.getElementById(v).append(I)}else{var b;(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena-"+c);var A,E,k,y,g,z,M,L,T,H,f,h,j,w,I,x,B;document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-cena-"+c),(E=document.createElement("div")).setAttribute("id","naziv-cena-"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-cena-"+c),k.setAttribute("data-id",i),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-cena-"+c),g.setAttribute("data-id",s),"00"===(z=s.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-cena-"+c),M.innerHTML=d,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B);var S,$,D,O,_,q,C,G,N;v="proizvodi-row-cena-"+(r-1);document.getElementById(v).append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_)}c++}))}async function getDataSortDiscount(){const e=await fetch("tabele/pocetna.csv",{cache:"no-store"}),t=await e.text();t.split("\n");let n=[...t.split("\n").slice(1)],a=[n[0]];for(var i=1;i<n.length;i++){let e=parseInt(n[i].split(";")[4]);if(e<parseInt(a[i-1].split(";")[4]))if(i-1==0){let e=a[i-1];a[i-1]=n[i],a[i]=e}else{var s=i-2;if(e>parseInt(a[s].split(";")[4])){let e=a[s+1];a[s+1]=n[i],a[i]=e}else{for(;s>-1&&e<parseInt(a[s].split(";")[4]);)s--;-1==s?a.splice(0,0,n[i]):a.splice(s+1,0,n[i])}}else a.push(n[i])}var c=0,r=0;a.reverse().forEach((e=>{const t=e.split(";"),n=t[0],a=t[1],i=t[2],s=t[3],d=t[4],l=t[5],p=t[6],u=t[7];if(c%4==0||0==c)if("5"==n){(m=document.createElement("div")).setAttribute("class","proizvodi-row");var o="proizvodi-row-popust-"+r;m.setAttribute("id",o),document.getElementById("tabela-proizvoda-popust").append(m),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust"+c);document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-popust"+c),(E=document.createElement("div")).setAttribute("id","naziv-popust"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-popust"+c),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),L.append(E),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(k),f.append(h),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B),m.append(I),r++}else{(m=document.createElement("div")).setAttribute("class","proizvodi-row");o="proizvodi-row-popust-"+r;m.setAttribute("id",o),document.getElementById("tabela-proizvoda-popust").append(m),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust-"+c);document.createElement("br");if((A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-popust-"+c),(E=document.createElement("div")).setAttribute("id","naziv-popust-"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-popust-"+c),k.setAttribute("data-id",i),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-popust-"+c),g.setAttribute("data-id",s),"00"===(z=s.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-popust-"+c),M.innerHTML=d,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B),m.append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_),r++,12==c)(m=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),m.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-popust").append(m);else if(4==c){(m=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter"),document.getElementById("tabela-proizvoda-popust").append(m)}else if(0==c){var m;(m=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),m.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-popust").append(m)}}else if("5"==n){(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust"+c);document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-popust"+c),(E=document.createElement("div")).setAttribute("id","naziv-popust"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-popust"+c),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),L.append(E),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik plava-cena"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(k),f.append(h),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B);var v="proizvodi-row-popust-"+(r-1);document.getElementById(v).append(I)}else{var b;(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust-"+c);var A,E,k,y,g,z,M,L,T,H,f,h,j,w,I,x,B;document.createElement("br");(A=document.createElement("img")).setAttribute("src",l),A.setAttribute("id","slika-popust-"+c),(E=document.createElement("div")).setAttribute("id","naziv-popust-"+c),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=a,(k=document.createElement("div")).setAttribute("id","stara-cena-popust-"+c),k.setAttribute("data-id",i),"00"===(y=i.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-popust-"+c),g.setAttribute("data-id",s),"00"===(z=s.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-popust-"+c),M.innerHTML=d,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=p&&x.append(p),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=u&&B.append(u),I.append(B);var S,$,D,O,_,q,C,G,N;v="proizvodi-row-popust-"+(r-1);document.getElementById(v).append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_)}c++}))}async function createSearch(){const e=await fetch("tabele/pocetna.csv",{cache:"no-store"}),t=await e.text();t.split("\n");t.split("\n").slice(1).forEach((e=>{const t=e.split(";"),n=t[0],a=t[1],i=t[2];t[3],t[4];let s=document.createElement("a"),c="";var r=a+", "+i+" din";switch(n){case"1":c="izaberi-uvek-sveze";break;case"2":c="uzivaj-u-ukusnom-delikatesu";break;case"3":c="pripremi-ukusan-obrok";break;case"4":c="gricni-i-osvezi-se";break;case"5":c="plava-cena";break}s.setAttribute("href",c),s.innerText=r;let d=document.createElement("li");d.append(s),document.getElementById("myUL").append(d)}))}async function getDataCategory(e){const t=e,n=await fetch("tabele/pocetna.csv",{cache:"no-store"}),a=await n.text(),i=(a.split("\n"),a.split("\n").slice(1));var s=0,c=0;i.forEach((e=>{const n=e.split(";"),a=n[0],i=n[1],r=n[2],d=n[3],l=n[4],p=n[5],u=n[6],o=n[7];if(t==a){if(s%4==0||0==s){(A=document.createElement("div")).setAttribute("class","proizvodi-row");var m="proizvodi-row-"+c;A.setAttribute("id",m),document.getElementById("tabela-proizvoda").append(A),(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+s);document.createElement("br");if((k=document.createElement("img")).setAttribute("src",p),k.setAttribute("id","slika-"+s),(y=document.createElement("div")).setAttribute("id","naziv-"+s),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=i,(g=document.createElement("div")).setAttribute("id","stara-cena-"+s),g.setAttribute("data-id",r),"00"===(z=r.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","nova-cena-"+s),M.setAttribute("data-id",d),"00"===(L=d.split("."))[1]?M.innerHTML=L[0]+'<sup style="visibility:hidden;">'+L[1]+"</sup>":M.innerHTML=L[0]+"<sup>"+L[1]+"</sup>",(T=document.createElement("div")).setAttribute("id","popust-"+s),T.innerHTML=l,(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),(f=document.createElement("div")).setAttribute("class","crveni-krug"),H.append(y),f.append(T),H.append(f),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(M),(I=document.createElement("div")).setAttribute("class","cenovnik-right"),I.append(g),j.append(w),j.append(I),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&S.append(u),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&$.append(o),B.append($),A.append(B),(D=document.createElement("div")).setAttribute("class","kalkulator"),(O=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(_=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),_.setAttribute("type","checkbox"),(q=document.createElement("span")).setAttribute("class","checkmark"),(C=document.createElement("div")).setAttribute("class","telo-kalkulatora"),C.setAttribute("style","display:none;"),(G=document.createElement("button")).setAttribute("class","decrease"),G.innerHTML="-",(N=document.createElement("span")).setAttribute("class","kolicina"),N.innerHTML="0",(P=document.createElement("button")).setAttribute("class","increase"),P.innerHTML="+",(U=document.createElement("span")).setAttribute("class","popust-artikal"),U.setAttribute("style","display:none"),U.innerHTML="0",C.append(G),C.append(N),C.append(P),C.append(U),O.append(_),O.append(q),D.append(O),B.prepend(D),B.append(C),c++,0==s)(A=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),A.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda").append(A);else if(4==s){(A=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter");var v=document.createElement("div");v.setAttribute("class","mobile-newsletter-wrapper");var b=document.createElement("script");b.setAttribute("src","https://maxi.sales-snap.com/form/generate.js?id=6"),v.append(b),A.append(v),document.getElementById("tabela-proizvoda").append(A)}else if(8==s){var A;(A=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),A.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda").append(A)}}else{var E;(E=document.createElement("div")).setAttribute("class","prozivodi-cell"),E.setAttribute("id","cell-"+s);var k,y,g,z,M,L,T,H,f,h,j,w,I,x,B,S,$;document.createElement("br");(k=document.createElement("img")).setAttribute("src",p),k.setAttribute("id","slika-"+s),(y=document.createElement("div")).setAttribute("id","naziv-"+s),y.setAttribute("class","naziv-proizvoda"),y.innerHTML=i,(g=document.createElement("div")).setAttribute("id","stara-cena-"+s),g.setAttribute("data-id",r),"00"===(z=r.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","nova-cena-"+s),M.setAttribute("data-id",d),"00"===(L=d.split("."))[1]?M.innerHTML=L[0]+'<sup style="visibility:hidden;">'+L[1]+"</sup>":M.innerHTML=L[0]+"<sup>"+L[1]+"</sup>",(T=document.createElement("div")).setAttribute("id","popust-"+s),T.innerHTML=l,(H=document.createElement("div")).setAttribute("class","div-inside"),H.append(k),(f=document.createElement("div")).setAttribute("class","crveni-krug"),H.append(y),f.append(T),H.append(f),(h=document.createElement("div")).setAttribute("class","div-inside"),(j=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(w=document.createElement("div")).setAttribute("class","cenovnik-left"),w.append(M),(I=document.createElement("div")).setAttribute("class","cenovnik-right"),I.append(g),j.append(w),j.append(I),h.append(j),(x=document.createElement("div")).setAttribute("class","slicica-div"),x.append(H),x.append(h),(B=document.createElement("div")).setAttribute("class","spoljni-div"),B.append(x),(S=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&S.append(u),B.append(S),($=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&$.append(o),B.append($);var D,O,_,q,C,G,N,P,U,R="proizvodi-row-"+(c-1);document.getElementById(R).append(B),(D=document.createElement("div")).setAttribute("class","kalkulator"),(O=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(_=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),_.setAttribute("type","checkbox"),(q=document.createElement("span")).setAttribute("class","checkmark"),(C=document.createElement("div")).setAttribute("class","telo-kalkulatora"),C.setAttribute("style","display:none;"),(G=document.createElement("button")).setAttribute("class","decrease"),G.innerHTML="-",(N=document.createElement("span")).setAttribute("class","kolicina"),N.innerHTML="0",(P=document.createElement("button")).setAttribute("class","increase"),P.innerHTML="+",(U=document.createElement("span")).setAttribute("class","popust-artikal"),U.setAttribute("style","display:none"),U.innerHTML="0",C.append(G),C.append(N),C.append(P),C.append(U),O.append(_),O.append(q),D.append(O),B.prepend(D),B.append(C)}s++}}))}async function getDataSortPriceCategory(e){const t=e,n=await fetch("tabele/pocetna.csv",{cache:"no-store"}),a=await n.text();a.split("\n");let i=[...a.split("\n").slice(1)],s=[i[0]];for(var c=1;c<i.length;c++){let e=parseInt(i[c].split(";")[3]);if(e<parseInt(s[c-1].split(";")[3]))if(c-1==0){let e=s[c-1];s[c-1]=i[c],s[c]=e}else{var r=c-2;if(e>parseInt(s[r].split(";")[3])){let e=s[r+1];s[r+1]=i[c],s[c]=e}else{for(;r>-1&&e<parseInt(s[r].split(";")[3]);)r--;-1==r?s.splice(0,0,i[c]):s.splice(r+1,0,i[c])}}else s.push(i[c])}var d=0,l=0;s.forEach((e=>{const n=e.split(";"),a=n[0],i=n[1],s=n[2],c=n[3],r=n[4],p=n[5],u=n[6],o=n[7];if(t==a){if(d%4==0||0==d){(v=document.createElement("div")).setAttribute("class","proizvodi-row");var m="proizvodi-row-cena-"+l;v.setAttribute("id",m),document.getElementById("tabela-proizvoda-cena").append(v),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena-"+d);document.createElement("br");if((A=document.createElement("img")).setAttribute("src",p),A.setAttribute("id","slika-cena-"+d),(E=document.createElement("div")).setAttribute("id","naziv-cena-"+d),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=i,(k=document.createElement("div")).setAttribute("id","stara-cena-cena-"+d),k.setAttribute("data-id",s),"00"===(y=s.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-cena-"+d),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-cena-"+d),M.innerHTML=r,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&x.append(u),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&B.append(o),I.append(B),v.append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_),l++,0==d)(v=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),v.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-cena").append(v);else if(4==d){(v=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter"),document.getElementById("tabela-proizvoda-cena").append(v)}else if(8==d){var v;(v=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),v.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-cena").append(v)}}else{var b;(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-cena-"+d);var A,E,k,y,g,z,M,L,T,H,f,h,j,w,I,x,B;document.createElement("br");(A=document.createElement("img")).setAttribute("src",p),A.setAttribute("id","slika-cena-"+d),(E=document.createElement("div")).setAttribute("id","naziv-cena-"+d),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=i,(k=document.createElement("div")).setAttribute("id","stara-cena-cena-"+d),k.setAttribute("data-id",s),"00"===(y=s.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-cena-"+d),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-cena-"+d),M.innerHTML=r,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&x.append(u),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&B.append(o),I.append(B);var S,$,D,O,_,q,C,G,N,P="proizvodi-row-cena-"+(l-1);document.getElementById(P).append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_)}d++}}))}async function getDataSortDiscountCategory(e){const t=e,n=await fetch("tabele/pocetna.csv",{cache:"no-store"}),a=await n.text();a.split("\n");let i=[...a.split("\n").slice(1)],s=[i[0]];for(var c=1;c<i.length;c++){let e=parseInt(i[c].split(";")[4]);if(e<parseInt(s[c-1].split(";")[4]))if(c-1==0){let e=s[c-1];s[c-1]=i[c],s[c]=e}else{var r=c-2;if(e>parseInt(s[r].split(";")[4])){let e=s[r+1];s[r+1]=i[c],s[c]=e}else{for(;r>-1&&e<parseInt(s[r].split(";")[4]);)r--;-1==r?s.splice(0,0,i[c]):s.splice(r+1,0,i[c])}}else s.push(i[c])}var d=0,l=0;s.reverse().forEach((e=>{const n=e.split(";"),a=n[0],i=n[1],s=n[2],c=n[3],r=n[4],p=n[5],u=n[6],o=n[7];if(t==a){if(d%4==0||0==d){(v=document.createElement("div")).setAttribute("class","proizvodi-row");var m="proizvodi-row-popust-"+l;v.setAttribute("id",m),document.getElementById("tabela-proizvoda-popust").append(v),(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust-"+d);document.createElement("br");if((A=document.createElement("img")).setAttribute("src",p),A.setAttribute("id","slika-popust-"+d),(E=document.createElement("div")).setAttribute("id","naziv-popust-"+d),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=i,(k=document.createElement("div")).setAttribute("id","stara-cena-popust-"+d),k.setAttribute("data-id",s),"00"===(y=s.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-popust-"+d),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-popust-"+d),M.innerHTML=r,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&x.append(u),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&B.append(o),I.append(B),v.append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_),l++,0==d)(v=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),v.innerHTML='<div class="proizvodi-cell single-image"><a href="plava-cena" target="_self"><img src="" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-popust").append(v);else if(4==d){(v=document.createElement("div")).setAttribute("class","proizvodi-row mobile-newsletter"),document.getElementById("tabela-proizvoda-popust").append(v)}else if(8==d){var v;(v=document.createElement("div")).setAttribute("class","proizvodi-row promo-banner"),v.innerHTML='<div class="proizvodi-cell single-image"><a href="javascript:void(0)" onclick="getMobileOperatingSystem()"><img src="https://maxi.sales-snap.com/asset/1592:moj-maxiloyalty-02png" class="promo-banner"></a></div>',document.getElementById("tabela-proizvoda-popust").append(v)}}else{var b;(b=document.createElement("div")).setAttribute("class","prozivodi-cell"),b.setAttribute("id","cell-popust-"+d);var A,E,k,y,g,z,M,L,T,H,f,h,j,w,I,x,B;document.createElement("br");(A=document.createElement("img")).setAttribute("src",p),A.setAttribute("id","slika-popust-"+d),(E=document.createElement("div")).setAttribute("id","naziv-popust-"+d),E.setAttribute("class","naziv-proizvoda"),E.innerHTML=i,(k=document.createElement("div")).setAttribute("id","stara-cena-popust-"+d),k.setAttribute("data-id",s),"00"===(y=s.split("."))[1]?k.innerHTML=y[0]+'<sup style="visibility:hidden;">'+y[1]+"</sup>":k.innerHTML=y[0]+"<sup>"+y[1]+"</sup>",(g=document.createElement("div")).setAttribute("id","nova-cena-popust-"+d),g.setAttribute("data-id",c),"00"===(z=c.split("."))[1]?g.innerHTML=z[0]+'<sup style="visibility:hidden;">'+z[1]+"</sup>":g.innerHTML=z[0]+"<sup>"+z[1]+"</sup>",(M=document.createElement("div")).setAttribute("id","popust-popust-"+d),M.innerHTML=r,(L=document.createElement("div")).setAttribute("class","div-inside"),L.append(A),(T=document.createElement("div")).setAttribute("class","crveni-krug"),L.append(E),T.append(M),L.append(T),(H=document.createElement("div")).setAttribute("class","div-inside"),(f=document.createElement("div")).setAttribute("class","zuti-cenovnik"),(h=document.createElement("div")).setAttribute("class","cenovnik-left"),h.append(g),(j=document.createElement("div")).setAttribute("class","cenovnik-right"),j.append(k),f.append(h),f.append(j),H.append(f),(w=document.createElement("div")).setAttribute("class","slicica-div"),w.append(L),w.append(H),(I=document.createElement("div")).setAttribute("class","spoljni-div"),I.append(w),(x=document.createElement("div")).setAttribute("class","trajanje"),null!=u&&x.append(u),I.append(x),(B=document.createElement("div")).setAttribute("class","lokacija"),null!=o&&B.append(o),I.append(B);var S,$,D,O,_,q,C,G,N,P="proizvodi-row-popust-"+(l-1);document.getElementById(P).append(I),(S=document.createElement("div")).setAttribute("class","kalkulator"),($=document.createElement("div")).setAttribute("class","selektor-kalkulatora"),(D=document.createElement("input")).setAttribute("class","cekboks-kalkulatora"),D.setAttribute("type","checkbox"),(O=document.createElement("span")).setAttribute("class","checkmark"),(_=document.createElement("div")).setAttribute("class","telo-kalkulatora"),_.setAttribute("style","display:none;"),(q=document.createElement("button")).setAttribute("class","decrease"),q.innerHTML="-",(C=document.createElement("span")).setAttribute("class","kolicina"),C.innerHTML="0",(G=document.createElement("button")).setAttribute("class","increase"),G.innerHTML="+",(N=document.createElement("span")).setAttribute("class","popust-artikal"),N.setAttribute("style","display:none"),N.innerHTML="0",_.append(q),_.append(C),_.append(G),_.append(N),$.append(D),$.append(O),S.append($),I.prepend(S),I.append(_)}d++}}))}async function datumAkcije(){const e=await fetch("tabele/pocetna.csv",{cache:"no-store"});var t=(await e.text()).split("\n")[0].split(";");console.log(t),document.getElementById("desktop_podnaslov").innerHTML=t[8],document.getElementById("mobile_podnaslov").innerHTML=t[8]}async function getDataCarousel(){const e=await fetch("tabele/baneri.csv",{cache:"no-store"});(await e.text()).split("\n").slice(1).forEach((e=>{const t=e.split(";"),n=t[0],a=t[1];var i=document.createElement("img");i.setAttribute("src",a),$("body").hasClass("stranica-kategorije")?"hpc"==n&&$('.promo-banner a[href*="plava-cena"] img').attr("src",a):$("body").hasClass("plava-cena")?("pc"==n&&$(".baner-kategorije img").attr("src",a),$(".proizvodi-row.promo-banner").remove()):document.URL.indexOf("pdf-katalog")>-1?"pdf-d"==n?$(".desktop-pdf").attr("src",a):"pdf-m"==n&&$(".mobile-pdf").attr("src",a):"dc"==n?document.querySelector(".banner-slider").append(i):"mc"==n?document.querySelector(".banner-slider-mobile").append(i):"hpc"==n&&$('.promo-banner a[href*="plava-cena"] img').attr("src",a)})),$(".banner-slider").slick({infinite:!0,dots:!0,autoplay:!0,speed:500}),$(".banner-slider-mobile").slick({infinite:!0,dots:!0,autoplay:!0,speed:500})}function updateStorage(){for(var e=0;e<$('.tabela-proizvoda-div[style*="block"] .cekboks-kalkulatora').length;e++)if(1==$('.tabela-proizvoda-div[style*="block"] .cekboks-kalkulatora:eq('+e+")")[0].checked){var t="SNG"+$('.tabela-proizvoda-div[style*="block"] .cekboks-kalkulatora:eq('+e+")").parents(".spoljni-div").attr("id"),n=$('.tabela-proizvoda-div[style*="block"] .cekboks-kalkulatora:eq('+e+")").parents(".spoljni-div").find(".kolicina").text();console.log("1"),localStorage.setItem(t,n)}else{console.log("2");t="SNG"+$('.tabela-proizvoda-div[style*="block"] .cekboks-kalkulatora:eq('+e+"):not(:checked)").parents(".spoljni-div").attr("id"),n="0";localStorage.removeItem(t)}}function applyStorage(){console.log(localStorage);for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e);if(console.log(parseInt(localStorage.getItem(t))),t.indexOf("SNG")>-1)if("1"==localStorage.getItem(t)){var n='.tabela-proizvoda-div[style*="block"] #'+t.split("SNG")[1]+" .cekboks-kalkulatora";$(n).length>0&&$(n).click()}else if("0"==localStorage.getItem(t));else if(parseInt(localStorage.getItem(t))>1){n='.tabela-proizvoda-div[style*="block"] #'+t.split("SNG")[1]+" .cekboks-kalkulatora";if($(n).length>0){$(n).click();for(var a=parseInt(localStorage.getItem(t))-1,i=0;i<a;i++)console.log("usususu"),$('.tabela-proizvoda-div[style*="block"] #'+t.split("SNG")[1]+" .increase").click()}}}}window.innerWidth<1050&&$("a").on("click",(function(){updateStorage(),applyStorage()}));